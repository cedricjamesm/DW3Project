<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="../css/change_password.css">
    <title>Password Change</title>
</head>
<body>

    <div class="wrapper">
        <div id="header">Password Change</div>
        <div id="errorMessage"></div>
        <form class="login-form" method="post" action="change_password.php" onsubmit="return validateForm()">
            <div class="flex-row">
                <label class="lf--label" for="username">Username:</label>
                <input class="lf--input" type="text" id="username" name="username" required>
            </div>
    
            <div class="flex-row">
                <label class="lf--label" for="firstName">First Name:</label>
                <input class="lf--input" type="text" id="firstName" name="firstName" required>
            </div>
    
            <div class="flex-row">
                <label class="lf--label" for="lastName">Last Name:</label>
                <input class="lf--input" type="text" id="lastName" name="lastName" required>
            </div>
    
            <div class="flex-row">
                <label class="lf--label" for="newPassword">New Password:</label>
                <input class="lf--input" type="password" id="newPassword" name="newPassword" required>
            </div>
    
            <div class="flex-row">
                <label class="lf--label" for="confirmPassword">Confirm Password:</label>
                <input class="lf--input" type="password" id="confirmPassword" name="confirmPassword" onkeyup="validatePassword()" required>
            </div>
    
            <div class="button">
                <input type="submit" class="lf--change" name="changepassword" value="Change Password">
                <!--<input type="submit" class="lf--login" name="login" value="Login">  redirect path to index.php-->
            </div>
        </form>
    </div>

<script>
    function validatePassword() {
        var newPassword = document.getElementById("newPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;
        var errorMessageElement = document.getElementById("errorMessage");
    
        if (newPassword.length < 8) { //checks the length of the password 
            errorMessageElement.innerText = "Password should be minimum 8 characters!";
        } else if (newPassword !== confirmPassword) { //checks if password and confirm password match
            errorMessageElement.innerText = "Passwords do not match!";
        } else {
            errorMessageElement.innerText = ""; // Clear error message
        }
    }
</script>
    
</body>
</html>
